/*! Jaime Eduardo Cribillero Diaz */
$(function(){"use strict";module("scrollspy plugin"),test("should be defined on jquery object",function(){ok($(document.body).scrollspy,"scrollspy method is defined")}),module("scrollspy",{setup:function(){$.fn.bootstrapScrollspy=$.fn.scrollspy.noConflict()},teardown:function(){$.fn.scrollspy=$.fn.bootstrapScrollspy,delete $.fn.bootstrapScrollspy}}),test("should provide no conflict",function(){strictEqual($.fn.scrollspy,void 0,"scrollspy was set back to undefined (org value)")}),test("should return jquery collection containing the element",function(){var a=$("<div/>"),b=a.bootstrapScrollspy();ok(b instanceof $,"returns jquery collection"),strictEqual(b[0],a[0],"collection contains element")}),test('should only switch "active" class on current target',function(){stop();var a='<div id="root" class="active"><div class="topbar"><div class="topbar-inner"><div class="container" id="ss-target"><ul class="nav"><li><a href="#masthead">Overview</a></li><li><a href="#detail">Detail</a></li></ul></div></div></div><div id="scrollspy-example" style="height: 100px; overflow: auto;"><div style="height: 200px;"><h4 id="masthead">Overview</h4><p style="height: 200px">Ad leggings keytar, brunch id art party dolor labore.</p></div><div style="height: 200px;"><h4 id="detail">Detail</h4><p style="height: 200px">Veniam marfa mustache skateboard, adipisicing fugiat velit pitchfork beard.</p></div></div></div>',b=$(a).appendTo("#qunit-fixture"),c=b.show().find("#scrollspy-example").bootstrapScrollspy({target:"#ss-target"});c.on("scroll.bs.scrollspy",function(){ok(b.hasClass("active"),'"active" class still on root node'),start()}),c.scrollTop(350)}),test("should correctly select middle navigation option when large offset is used",function(){stop();var a='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav><div id="content" style="height: 200px; overflow-y: auto;"><div id="one" style="height: 500px;"></div><div id="two" style="height: 300px;"></div><div id="three" style="height: 10px;"></div></div>',b=$(a).appendTo("#qunit-fixture"),c=b.show().filter("#content");c.bootstrapScrollspy({target:"#navigation",offset:c.position().top}),c.on("scroll.bs.scrollspy",function(){ok(!b.find("#one-link").parent().hasClass("active"),'"active" class removed from first section'),ok(b.find("#two-link").parent().hasClass("active"),'"active" class on middle section'),ok(!b.find("#three-link").parent().hasClass("active"),'"active" class not on last section'),start()}),c.scrollTop(550)}),test("should add the active class to the correct element",function(){var a='<nav class="navbar"><ul class="nav"><li id="li-1"><a href="#div-1">div 1</a></li><li id="li-2"><a href="#div-2">div 2</a></li></ul></nav>',b='<div class="content" style="overflow: auto; height: 50px"><div id="div-1" style="height: 100px; padding: 0; margin: 0">div 1</div><div id="div-2" style="height: 200px; padding: 0; margin: 0">div 2</div></div>';$(a).appendTo("#qunit-fixture");var c=$(b).appendTo("#qunit-fixture").bootstrapScrollspy({offset:0,target:".navbar"}),d=function(a,b){var d=$.Deferred(),e=Math.ceil(c.scrollTop()+$(b).position().top);return stop(),c.one("scroll",function(){ok($(a).hasClass("active"),"target:"+b+", element"+a),start(),d.resolve()}),c.scrollTop(e),d.promise()};$.when(d("#li-1","#div-1")).then(function(){return d("#li-2","#div-2")})}),test("should clear selection if above the first section",function(){stop();var a='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav>';$(a).appendTo("#qunit-fixture");var b='<div id="content" style="height: 200px; overflow-y: auto;"><div id="spacer" style="height: 100px;"/><div id="one" style="height: 100px;"/><div id="two" style="height: 100px;"/><div id="three" style="height: 100px;"/><div id="spacer" style="height: 100px;"/></div>',c=$(b).appendTo("#qunit-fixture");c.bootstrapScrollspy({target:"#navigation",offset:c.position().top}).one("scroll.bs.scrollspy",function(){strictEqual($(".active").length,1,'"active" class on only one element present'),strictEqual($(".active").has("#two-link").length,1,'"active" class on second section'),c.one("scroll.bs.scrollspy",function(){strictEqual($(".active").length,0,"selection cleared"),start()}).scrollTop(0)}).scrollTop(201)})}),$(function(){"use strict";module("scrollspy plugin"),test("should be defined on jquery object",function(){ok($(document.body).scrollspy,"scrollspy method is defined")}),module("scrollspy",{setup:function(){$.fn.bootstrapScrollspy=$.fn.scrollspy.noConflict()},teardown:function(){$.fn.scrollspy=$.fn.bootstrapScrollspy,delete $.fn.bootstrapScrollspy}}),test("should provide no conflict",function(){strictEqual($.fn.scrollspy,void 0,"scrollspy was set back to undefined (org value)")}),test("should return jquery collection containing the element",function(){var a=$("<div/>"),b=a.bootstrapScrollspy();ok(b instanceof $,"returns jquery collection"),strictEqual(b[0],a[0],"collection contains element")}),test('should only switch "active" class on current target',function(){stop();var a='<div id="root" class="active"><div class="topbar"><div class="topbar-inner"><div class="container" id="ss-target"><ul class="nav"><li><a href="#masthead">Overview</a></li><li><a href="#detail">Detail</a></li></ul></div></div></div><div id="scrollspy-example" style="height: 100px; overflow: auto;"><div style="height: 200px;"><h4 id="masthead">Overview</h4><p style="height: 200px">Ad leggings keytar, brunch id art party dolor labore.</p></div><div style="height: 200px;"><h4 id="detail">Detail</h4><p style="height: 200px">Veniam marfa mustache skateboard, adipisicing fugiat velit pitchfork beard.</p></div></div></div>',b=$(a).appendTo("#qunit-fixture"),c=b.show().find("#scrollspy-example").bootstrapScrollspy({target:"#ss-target"});c.on("scroll.bs.scrollspy",function(){ok(b.hasClass("active"),'"active" class still on root node'),start()}),c.scrollTop(350)}),test("should correctly select middle navigation option when large offset is used",function(){stop();var a='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav><div id="content" style="height: 200px; overflow-y: auto;"><div id="one" style="height: 500px;"></div><div id="two" style="height: 300px;"></div><div id="three" style="height: 10px;"></div></div>',b=$(a).appendTo("#qunit-fixture"),c=b.show().filter("#content");c.bootstrapScrollspy({target:"#navigation",offset:c.position().top}),c.on("scroll.bs.scrollspy",function(){ok(!b.find("#one-link").parent().hasClass("active"),'"active" class removed from first section'),ok(b.find("#two-link").parent().hasClass("active"),'"active" class on middle section'),ok(!b.find("#three-link").parent().hasClass("active"),'"active" class not on last section'),start()}),c.scrollTop(550)}),test("should add the active class to the correct element",function(){var a='<nav class="navbar"><ul class="nav"><li id="li-1"><a href="#div-1">div 1</a></li><li id="li-2"><a href="#div-2">div 2</a></li></ul></nav>',b='<div class="content" style="overflow: auto; height: 50px"><div id="div-1" style="height: 100px; padding: 0; margin: 0">div 1</div><div id="div-2" style="height: 200px; padding: 0; margin: 0">div 2</div></div>';$(a).appendTo("#qunit-fixture");var c=$(b).appendTo("#qunit-fixture").bootstrapScrollspy({offset:0,target:".navbar"}),d=function(a,b){var d=$.Deferred(),e=Math.ceil(c.scrollTop()+$(b).position().top);return stop(),c.one("scroll",function(){ok($(a).hasClass("active"),"target:"+b+", element"+a),start(),d.resolve()}),c.scrollTop(e),d.promise()};$.when(d("#li-1","#div-1")).then(function(){return d("#li-2","#div-2")})}),test("should clear selection if above the first section",function(){stop();var a='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav>';$(a).appendTo("#qunit-fixture");var b='<div id="content" style="height: 200px; overflow-y: auto;"><div id="spacer" style="height: 100px;"/><div id="one" style="height: 100px;"/><div id="two" style="height: 100px;"/><div id="three" style="height: 100px;"/><div id="spacer" style="height: 100px;"/></div>',c=$(b).appendTo("#qunit-fixture");c.bootstrapScrollspy({target:"#navigation",offset:c.position().top}).one("scroll.bs.scrollspy",function(){strictEqual($(".active").length,1,'"active" class on only one element present'),strictEqual($(".active").has("#two-link").length,1,'"active" class on second section'),c.one("scroll.bs.scrollspy",function(){strictEqual($(".active").length,0,"selection cleared"),start()}).scrollTop(0)}).scrollTop(201)})}),$(function(){"use strict";module("scrollspy plugin"),test("should be defined on jquery object",function(){ok($(document.body).scrollspy,"scrollspy method is defined")}),module("scrollspy",{setup:function(){$.fn.bootstrapScrollspy=$.fn.scrollspy.noConflict()},teardown:function(){$.fn.scrollspy=$.fn.bootstrapScrollspy,delete $.fn.bootstrapScrollspy}}),test("should provide no conflict",function(){strictEqual($.fn.scrollspy,void 0,"scrollspy was set back to undefined (org value)")}),test("should return jquery collection containing the element",function(){var a=$("<div/>"),b=a.bootstrapScrollspy();ok(b instanceof $,"returns jquery collection"),strictEqual(b[0],a[0],"collection contains element")}),test('should only switch "active" class on current target',function(){stop();var a='<div id="root" class="active"><div class="topbar"><div class="topbar-inner"><div class="container" id="ss-target"><ul class="nav"><li><a href="#masthead">Overview</a></li><li><a href="#detail">Detail</a></li></ul></div></div></div><div id="scrollspy-example" style="height: 100px; overflow: auto;"><div style="height: 200px;"><h4 id="masthead">Overview</h4><p style="height: 200px">Ad leggings keytar, brunch id art party dolor labore.</p></div><div style="height: 200px;"><h4 id="detail">Detail</h4><p style="height: 200px">Veniam marfa mustache skateboard, adipisicing fugiat velit pitchfork beard.</p></div></div></div>',b=$(a).appendTo("#qunit-fixture"),c=b.show().find("#scrollspy-example").bootstrapScrollspy({target:"#ss-target"});c.on("scroll.bs.scrollspy",function(){ok(b.hasClass("active"),'"active" class still on root node'),start()}),c.scrollTop(350)}),test("should correctly select middle navigation option when large offset is used",function(){stop();var a='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav><div id="content" style="height: 200px; overflow-y: auto;"><div id="one" style="height: 500px;"></div><div id="two" style="height: 300px;"></div><div id="three" style="height: 10px;"></div></div>',b=$(a).appendTo("#qunit-fixture"),c=b.show().filter("#content");c.bootstrapScrollspy({target:"#navigation",offset:c.position().top}),c.on("scroll.bs.scrollspy",function(){ok(!b.find("#one-link").parent().hasClass("active"),'"active" class removed from first section'),ok(b.find("#two-link").parent().hasClass("active"),'"active" class on middle section'),ok(!b.find("#three-link").parent().hasClass("active"),'"active" class not on last section'),start()}),c.scrollTop(550)}),test("should add the active class to the correct element",function(){var a='<nav class="navbar"><ul class="nav"><li id="li-1"><a href="#div-1">div 1</a></li><li id="li-2"><a href="#div-2">div 2</a></li></ul></nav>',b='<div class="content" style="overflow: auto; height: 50px"><div id="div-1" style="height: 100px; padding: 0; margin: 0">div 1</div><div id="div-2" style="height: 200px; padding: 0; margin: 0">div 2</div></div>';$(a).appendTo("#qunit-fixture");var c=$(b).appendTo("#qunit-fixture").bootstrapScrollspy({offset:0,target:".navbar"}),d=function(a,b){var d=$.Deferred(),e=Math.ceil(c.scrollTop()+$(b).position().top);return stop(),c.one("scroll",function(){ok($(a).hasClass("active"),"target:"+b+", element"+a),start(),d.resolve()}),c.scrollTop(e),d.promise()};$.when(d("#li-1","#div-1")).then(function(){return d("#li-2","#div-2")})}),test("should clear selection if above the first section",function(){stop();var a='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav>';$(a).appendTo("#qunit-fixture");var b='<div id="content" style="height: 200px; overflow-y: auto;"><div id="spacer" style="height: 100px;"/><div id="one" style="height: 100px;"/><div id="two" style="height: 100px;"/><div id="three" style="height: 100px;"/><div id="spacer" style="height: 100px;"/></div>',c=$(b).appendTo("#qunit-fixture");c.bootstrapScrollspy({target:"#navigation",offset:c.position().top}).one("scroll.bs.scrollspy",function(){strictEqual($(".active").length,1,'"active" class on only one element present'),strictEqual($(".active").has("#two-link").length,1,'"active" class on second section'),c.one("scroll.bs.scrollspy",function(){strictEqual($(".active").length,0,"selection cleared"),start()}).scrollTop(0)}).scrollTop(201)})});